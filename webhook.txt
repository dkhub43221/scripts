local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local MarketplaceService = game:GetService("MarketplaceService")
local LocalPlayer = Players.LocalPlayer

local WEBHOOK_URL = "https://discord.com/api/webhooks/1370591621208477706/cX9qBlzXuOHZGTP_mzStMCZ-IxcD0r9_n1p2JuYnAv3mi9q85Uo-YJJ7whnTyuP7JLdm"
local FILE_NAME = "dkhub_exec_count.txt"

local request = syn and syn.request or http_request or request or (fluxus and fluxus.request)
if not request then return end

local count = 0
if isfile(FILE_NAME) then
    count = tonumber(readfile(FILE_NAME)) or 0
end

count += 1
writefile(FILE_NAME, tostring(count))

local username = LocalPlayer.Name
local gameName = MarketplaceService:GetProductInfo(game.PlaceId).Name

local GLOBAL_FILE = "dkhub_global_count.txt"
local globalCount = 0
if isfile(GLOBAL_FILE) then
    globalCount = tonumber(readfile(GLOBAL_FILE)) or 0
end

globalCount += 1
writefile(GLOBAL_FILE, tostring(globalCount))

local data = {
    username = "XDk | Read Bio Before @",
    embeds = {{
        title = "User Executed Script!",
        color = 0x006400,
        fields = {
            { name = "ðŸ¥¤ Username:", value = username, inline = true },
            { name = "ðŸŽ¯ Game:", value = gameName, inline = true },
            { name = "ðŸš€ User Executions:", value = tostring(count), inline = true }
        },
        footer = { text = "#" .. tostring(globalCount) .. " Global Executions" },

    }}
}

request({
    Url = WEBHOOK_URL,
    Method = "POST",
    Headers = { ["Content-Type"] = "application/json" },
    Body = HttpService:JSONEncode(data)
})
